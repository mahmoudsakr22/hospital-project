<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ù…Ù„Ù Ø§Ù„Ù…Ø±ÙŠØ¶ - Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ø°ÙƒÙŠØ©</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background-color: #f0f4f8;
      margin: 0;
      padding: 20px;
    }
    .profile-container {
      background-color: #fff;
      border-radius: 10px;
      padding: 30px;
      max-width: 1000px;
      margin: auto;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    h2, h3 {
      color: #0077cc;
      text-align: center;
    }
    .info, .section {
      background: #f9f9f9;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
      line-height: 2;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input, select, textarea, button {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    button {
      background-color: #0077cc;
      color: #fff;
      border: none;
      margin-top: 20px;
      cursor: pointer;
    }
    .qr-code {
      text-align: center;
      margin: 20px 0;
    }
    .qr-code img {
      width: 150px;
      height: 150px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    table, th, td {
      border: 1px solid #ccc;
      padding: 10px;
    }
    th {
      background: #e6f2fb;
    }
  </style>
</head>
<body>

<div class="profile-container" id="profile-content">
  <h2>ğŸ©º Ù…Ù„Ù Ø§Ù„Ù…Ø±ÙŠØ¶</h2>

  <div class="info">
    <strong>Ø§Ù„Ø§Ø³Ù…:</strong> Ø£Ø­Ù…Ø¯ Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡<br>
    <strong>Ø§Ù„Ø¹Ù…Ø±:</strong> 45 Ø³Ù†Ø©<br>
    <strong>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ:</strong> 29801120345678<br>
    <strong>ID:</strong> RSW2424<br>
    <strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯Ø®ÙˆÙ„:</strong> 2025-07-07<br>
    <strong>Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ:</strong> Ø§Ù„Ø·ÙˆØ§Ø±Ø¦<br>
    <strong>Ø§Ù„Ø·Ø¨ÙŠØ¨ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬:</strong> Ø¯. Ù…Ø­Ù…Ø¯ Ø³Ø§Ù…ÙŠ
  </div>

  <div class="qr-code">
    <p><strong>Ø±Ù…Ø² QR Ù„Ù„Ù…Ø±ÙŠØ¶:</strong></p>
    <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=29801120345678" alt="QR Code">
  </div>

  <!-- ØªØ³Ø¬ÙŠÙ„ Ø²ÙŠØ§Ø±Ø© -->
  <div class="section">
    <h3>ğŸ“‹ ØªØ³Ø¬ÙŠÙ„ Ø²ÙŠØ§Ø±Ø© Ø£Ùˆ ÙƒØ´Ù</h3>
    <form onsubmit="addVisit(event)">
      <label>Ù†ÙˆØ¹ Ø§Ù„Ø²ÙŠØ§Ø±Ø©:</label>
      <select id="visit-type" required>
        <option value="">-- Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø²ÙŠØ§Ø±Ø© --</option>
        <option>ÙƒØ´Ù Ø·Ø¨ÙŠ</option>
        <option>Ù…ØªØ§Ø¨Ø¹Ø©</option>
        <option>Ø§Ø³ØªØ´Ø§Ø±Ø©</option>
        <option>ØªÙ‚ÙŠÙŠÙ… Ù…Ø¨Ø¯Ø¦ÙŠ</option>
      </select>

      <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¨:</label>
      <textarea id="visit-notes" rows="3" required></textarea>

      <label>Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø£Ùˆ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„ÙƒØ´Ù:</label>
      <textarea id="visit-action" rows="3"></textarea>

      <button type="submit">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø²ÙŠØ§Ø±Ø©</button>
    </form>

    <table id="visits-table">
      <thead>
        <tr>
          <th>Ù†ÙˆØ¹ Ø§Ù„Ø²ÙŠØ§Ø±Ø©</th>
          <th>Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</th>
          <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡</th>
          <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- Ø·Ù„Ø¨ ØªØ­ÙˆÙŠÙ„ -->
  <div class="section">
    <h3>ğŸ“¨ Ø·Ù„Ø¨ ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ù‚Ø³Ù… Ø¢Ø®Ø±</h3>
    <form onsubmit="addTransfer(event)">
      <label>Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø­ÙˆÙ„ Ø¥Ù„ÙŠÙ‡:</label>
      <select id="transfer-department" onchange="toggleSubField()" required>
        <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù… --</option>
        <option>Ø§Ù„Ø±Ø¹Ø§ÙŠØ©</option>
        <option>Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</option>
        <option>Ø§Ù„Ø¹Ù†Ø§ÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²Ø©</option>
        <option>Ø§Ù„ØªØ­Ø§Ù„ÙŠÙ„</option>
        <option>Ø§Ù„Ø£Ø´Ø¹Ø©</option>
        <option>Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ©</option>
      </select>

      <div id="sub-options" style="display:none;">
        <label id="sub-label">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨:</label>
        <input type="text" id="sub-detail" placeholder="Ù…Ø«Ù„Ø§Ù‹: ØªØ­Ù„ÙŠÙ„ Ø¯Ù… - Ø£Ø´Ø¹Ø© ØµØ¯Ø± - Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡...">
      </div>

      <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</label>
      <textarea id="transfer-notes" rows="3"></textarea>

      <button type="submit">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
    </form>

    <table id="transfer-table">
      <thead>
        <tr>
          <th>Ø§Ù„Ù‚Ø³Ù…</th>
          <th>Ø§Ù„ØªÙØ§ØµÙŠÙ„</th>
          <th>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</th>
          <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <button onclick="generatePDF()">ğŸ“„ ØªØ­Ù…ÙŠÙ„ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø±ÙŠØ¶ PDF</button>
</div>

<script>
  function addVisit(e) {
    e.preventDefault();
    const type = document.getElementById("visit-type").value;
    const notes = document.getElementById("visit-notes").value;
    const action = document.getElementById("visit-action").value;
    const now = new Date().toLocaleString("ar-EG");

    const row = `<tr><td>${type}</td><td>${notes}</td><td>${action}</td><td>${now}</td></tr>`;
    document.querySelector("#visits-table tbody").innerHTML += row;

    document.getElementById("visit-type").value = '';
    document.getElementById("visit-notes").value = '';
    document.getElementById("visit-action").value = '';
  }

  function toggleSubField() {
    const dept = document.getElementById("transfer-department").value;
    const subOptions = document.getElementById("sub-options");

    if (dept === "Ø§Ù„ØªØ­Ø§Ù„ÙŠÙ„" || dept === "Ø§Ù„Ø£Ø´Ø¹Ø©" || dept === "Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ©") {
      subOptions.style.display = "block";
    } else {
      subOptions.style.display = "none";
      document.getElementById("sub-detail").value = "";
    }
  }

  function addTransfer(e) {
    e.preventDefault();
    const dept = document.getElementById("transfer-department").value;
    const detail = document.getElementById("sub-detail").value;
    const notes = document.getElementById("transfer-notes").value;
    const now = new Date().toLocaleString("ar-EG");

    const row = `<tr><td>${dept}</td><td>${detail}</td><td>${notes}</td><td>${now}</td></tr>`;
    document.querySelector("#transfer-table tbody").innerHTML += row;

    document.getElementById("transfer-department").value = '';
    document.getElementById("sub-detail").value = '';
    document.getElementById("transfer-notes").value = '';
    document.getElementById("sub-options").style.display = 'none';
  }

  function generatePDF() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    doc.setFont("Arial");
    doc.text("ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø±ÙŠØ¶ - Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ø°ÙƒÙŠØ©", 20, 20);
    doc.text("Ø§Ù„Ø§Ø³Ù…: Ø£Ø­Ù…Ø¯ Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡", 20, 30);
    doc.text("Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ: 29801120345678", 20, 40);
    doc.text("ID: RSW2424", 20, 50);
    doc.text("Ø§Ù„Ù‚Ø³Ù…: Ø§Ù„Ø·ÙˆØ§Ø±Ø¦", 20, 60);
    doc.text("Ø§Ù„Ø·Ø¨ÙŠØ¨ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬: Ø¯. Ù…Ø­Ù…Ø¯ Ø³Ø§Ù…ÙŠ", 20, 70);
    doc.text("Ø§Ù„ØªØ§Ø±ÙŠØ®: " + new Date().toLocaleDateString("ar-EG"), 20, 80);
    doc.text("ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ù†Ø¸Ø§Ù…", 20, 100);
    doc.save("ØªÙ‚Ø±ÙŠØ±_Ø§Ù„Ù…Ø±ÙŠØ¶.pdf");
  }
</script>

</body>
</html>
